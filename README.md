# 资产管理系统

基于Python FastAPI和HTML5的Web资产管理系统，支持完整的CRUD操作。

## 功能特性

### 后端功能
- **FastAPI框架** - 高性能Web API框架
- **SQLite数据库** - 轻量级数据存储
- **RESTful API** - 标准的REST接口设计
- **自动API文档** - Swagger UI自动生成
- **数据验证** - Pydantic模型验证

### 前端功能
- **响应式设计** - 适配各种设备屏幕
- **实时CRUD操作** - 增加、删除、修改、查询资产
- **搜索和筛选** - 按名称、类别筛选资产
- **表格检索视图** - 支持按列排序的数据表格
- **高级筛选** - 按价值范围、日期范围筛选
- **数据导出** - 支持CSV格式导出
- **分页显示** - 大数据量分页处理
- **统计信息** - 实时显示资产数量和总价值
- **美观界面** - 现代化UI设计

### 资产管理功能
- ✅ **添加资产** - 输入资产名称、类别、价值、购买日期和描述
- ✅ **查看资产** - 以卡片形式展示所有资产信息
- ✅ **编辑资产** - 修改已有资产的任何信息
- ✅ **删除资产** - 安全删除资产（带确认提示）
- ✅ **搜索资产** - 根据名称或类别搜索
- ✅ **筛选资产** - 按类别筛选显示
- ✅ **表格检索** - 表格形式显示，支持按列排序
- ✅ **高级筛选** - 按价值范围、日期范围筛选
- ✅ **分页显示** - 支持大数据量分页浏览
- ✅ **数据导出** - 导出筛选结果为CSV文件
- ✅ **统计信息** - 显示资产总数和总价值

## 项目结构

```
资产管理系统/
├── main.py              # FastAPI后端服务器
├── start.py             # 启动脚本
├── requirements.txt     # Python依赖包
├── README.md           # 项目说明文档
├── assets.db           # SQLite数据库（运行后自动创建）
└── static/             # 前端静态文件
    ├── index.html      # 主页面（卡片视图）
    ├── table.html      # 表格检索页面
    ├── styles.css      # 主页面样式文件
    ├── table-styles.css # 表格页面样式文件
    ├── script.js       # 主页面JavaScript逻辑
    └── table-script.js # 表格页面JavaScript逻辑
```

## 安装和运行

### 方法1：使用启动脚本（推荐）
```bash
python start.py
```

### 方法2：手动安装和运行
```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 启动服务器
python main.py
```

### 方法3：使用uvicorn直接运行
```bash
pip install -r requirements.txt
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

## 访问应用

启动成功后，在浏览器中访问：
- **主应用（卡片视图）**: http://localhost:8000
- **表格检索页面**: http://localhost:8000/table
- **API文档**: http://localhost:8000/docs
- **API交互式文档**: http://localhost:8000/redoc

## API接口

### 资产管理接口

| 方法 | 路径 | 描述 |
|------|------|------|
| GET | `/api/assets` | 获取所有资产列表 |
| GET | `/api/assets/{id}` | 获取指定资产详情 |
| POST | `/api/assets` | 创建新资产 |
| PUT | `/api/assets/{id}` | 更新指定资产 |
| DELETE | `/api/assets/{id}` | 删除指定资产 |

### 资产数据模型

```json
{
  "id": 1,
  "name": "MacBook Pro",
  "category": "电子设备",
  "value": 12999.00,
  "purchase_date": "2024-01-15",
  "description": "用于开发工作的笔记本电脑"
}
```

### 创建资产请求示例

```json
{
  "name": "iPhone 15",
  "category": "电子设备", 
  "value": 6999.00,
  "purchase_date": "2024-03-20",
  "description": "公司配发手机"
}
```

## 资产类别

系统预设以下资产类别：
- 电子设备
- 办公用品
- 车辆
- 房产
- 家具
- 其他

## 技术栈

### 后端
- **Python 3.7+**
- **FastAPI** - 现代高性能Web框架
- **SQLAlchemy** - ORM数据库操作
- **Pydantic** - 数据验证和序列化
- **SQLite** - 轻量级数据库
- **Uvicorn** - ASGI服务器

### 前端
- **HTML5** - 语义化标记
- **CSS3** - 现代样式设计
- **JavaScript ES6+** - 交互逻辑
- **Fetch API** - HTTP请求
- **CSS Grid/Flexbox** - 响应式布局

## 功能演示

### 1. 添加资产
在主页面填写资产信息表单，点击"添加资产"按钮即可创建新资产。

### 2. 查看资产
所有资产以卡片形式展示，显示关键信息包括名称、类别、价值、购买日期等。

### 3. 编辑资产
点击资产卡片上的"编辑"按钮，表单会自动填充当前资产信息，修改后点击"更新资产"。

### 4. 删除资产
点击"删除"按钮会弹出确认对话框，确认后删除资产。

### 5. 搜索筛选
使用搜索框输入关键词，或使用类别下拉框筛选特定类别的资产。

### 6. 表格检索页面
点击主页面的"表格视图"按钮进入表格检索页面，具有以下功能：
- **排序功能**: 点击表头可按该列进行升序/降序排序
- **高级筛选**: 支持按价值范围、日期范围筛选
- **分页显示**: 可设置每页显示数量，支持分页浏览
- **CSV导出**: 将筛选结果导出为CSV文件
- **在线编辑**: 直接在表格中编辑和删除资产

## 数据安全

- 所有用户输入都经过验证和转义
- 防止SQL注入攻击
- 删除操作需要用户确认
- 数据本地存储，保护隐私

## 浏览器支持

支持所有现代浏览器：
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 开发扩展

### 添加新的资产类别
在以下文件中添加新类别：
1. `static/index.html` - 表单选项和筛选选项
2. `static/styles.css` - 如需特殊样式

### 添加新字段
1. 修改 `main.py` 中的数据模型
2. 更新数据库表结构
3. 更新前端表单和显示

### 部署建议
- 生产环境建议使用PostgreSQL替代SQLite
- 添加用户认证和权限管理
- 配置HTTPS和CORS策略
- 使用Docker容器化部署

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request！